sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","sap/m/MessageBox","../model/formatter"],function(t,o,e,i){"use strict";return t.extend("flush.controller.Outro",{formatter:i,onInit:function(){t.prototype.onInit.apply(this,arguments);var e=new o({score:0,progress:1,godMode:false,outro:"images/Outro.png"});this.setModel(e,"view");this.getRouter().getRoute("outro").attachPatternMatched(this._playOutro,this)},_winErrorDialog:function(){e.error("WinException",{id:"WinException",title:'Error: "Win" is not defined',details:"@Core.js:1337",actions:[e.Action.CLOSE]});setTimeout(function(){var t=sap.ui.getCore().byId("WinException");if(t){sap.ui.getCore().byId("WinException").destroy()}this.getRouter().navTo("home")}.bind(this),1e4)},_playOutro:function(){this.getBadWeather().stop();this.getSoundManager().play("Cheer");this._playStory("outro").then(function(){this._winErrorDialog();this.getSoundManager().play("gameOver")}.bind(this))},onBack:function(){this._stopStory();this.getRouter().navTo("home")}})});